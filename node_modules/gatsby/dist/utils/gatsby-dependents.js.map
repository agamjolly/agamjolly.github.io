{"version":3,"sources":["../../src/utils/gatsby-dependents.js"],"names":["rptAsync","rpt","module","exports","program","store","getState","allNodeModules","directory","node","moduleName","test","children"],"mappings":";;;;AAAA;;AACA;;AACA;;AACA;;AAEA,MAAMA,QAAQ,GAAG,qBAAUC,wBAAV,CAAjB,C,CACA;;AACAC,MAAM,CAACC,OAAP,GAAiB,qBAAQ,YAAY;AACnC,QAAM;AAAEC,IAAAA;AAAF,MAAcC,aAAMC,QAAN,EAApB;;AACA,QAAMC,cAAc,GAAG,MAAMP,QAAQ,CACnCI,OAAO,CAACI,SAD2B,EAEnC;AACA,GAACC,IAAD,EAAOC,UAAP,KAAsB,SAASC,IAAT,CAAcD,UAAd,KAA6BA,UAAU,KAAM,QAHhC,CAArC;AAKA,SAAOH,cAAc,CAACK,QAAtB;AACD,CARgB,CAAjB","sourcesContent":["import { store } from \"../redux\"\nimport { memoize } from \"lodash\"\nimport rpt from \"read-package-tree\"\nimport { promisify } from \"util\"\n\nconst rptAsync = promisify(rpt)\n// Returns [Object] with name and path\nmodule.exports = memoize(async () => {\n  const { program } = store.getState()\n  const allNodeModules = await rptAsync(\n    program.directory,\n    // Include anything that has `gatsby` in its name but not `gatsby` itself\n    (node, moduleName) => /gatsby/.test(moduleName) && moduleName !== `gatsby`\n  )\n  return allNodeModules.children\n})\n"],"file":"gatsby-dependents.js"}