{"version":3,"sources":["../../src/commands/build-javascript.js"],"names":["webpack","require","webpackConfig","module","exports","program","directory","compilerConfig","Promise","resolve","reject","run","err","stats","jsonStats","toJson","errors","length"],"mappings":";;AACA,MAAMA,OAAO,GAAGC,OAAO,CAAE,SAAF,CAAvB;;AACA,MAAMC,aAAa,GAAGD,OAAO,CAAE,yBAAF,CAA7B;;AAEAE,MAAM,CAACC,OAAP,GAAiB,MAAMC,OAAN,IAAiB;AAChC,QAAM;AAAEC,IAAAA;AAAF,MAAgBD,OAAtB;AAEA,QAAME,cAAc,GAAG,MAAML,aAAa,CACxCG,OADwC,EAExCC,SAFwC,EAGvC,kBAHuC,CAA1C;AAMA,SAAO,IAAIE,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtCV,IAAAA,OAAO,CAACO,cAAD,CAAP,CAAwBI,GAAxB,CAA4B,CAACC,GAAD,EAAMC,KAAN,KAAgB;AAC1C,UAAID,GAAJ,EAAS;AACPF,QAAAA,MAAM,CAACE,GAAD,CAAN;AACA;AACD;;AAED,YAAME,SAAS,GAAGD,KAAK,CAACE,MAAN,EAAlB;;AACA,UAAID,SAAS,CAACE,MAAV,IAAoBF,SAAS,CAACE,MAAV,CAAiBC,MAAjB,GAA0B,CAAlD,EAAqD;AACnDP,QAAAA,MAAM,CAACI,SAAS,CAACE,MAAX,CAAN;AACA;AACD;;AAEDP,MAAAA,OAAO,CAACI,KAAD,CAAP;AACD,KAbD;AAcD,GAfM,CAAP;AAgBD,CAzBD","sourcesContent":["/* @flow */\nconst webpack = require(`webpack`)\nconst webpackConfig = require(`../utils/webpack.config`)\n\nmodule.exports = async program => {\n  const { directory } = program\n\n  const compilerConfig = await webpackConfig(\n    program,\n    directory,\n    `build-javascript`\n  )\n\n  return new Promise((resolve, reject) => {\n    webpack(compilerConfig).run((err, stats) => {\n      if (err) {\n        reject(err)\n        return\n      }\n\n      const jsonStats = stats.toJson()\n      if (jsonStats.errors && jsonStats.errors.length > 0) {\n        reject(jsonStats.errors)\n        return\n      }\n\n      resolve(stats)\n    })\n  })\n}\n"],"file":"build-javascript.js"}